uuid: cda1d337-f3bc-4bf0-b874-d00fb8fb53ff
langcode: en
status: true
dependencies:
  enforced:
    module:
      - canvas_ai
_core:
  default_config_hash: D8zWWDI4Q7RSgi7Uuck7A2aTN2aRrvL_oXdqGwmaztY
id: canvas_component_agent
label: 'Drupal Canvas Component Agent'
description: 'This agent can manipulate things in Drupal Canvas. Since it outputs a very specific JSON format, please do not use this in other contexts.'
system_prompt: "You are an expert frontend and markup builder agent.\r\n\r\nYour responsibility is to produce clean, semantic HTML markup (and only markup) based on structured input provided by the user. The markup is intended to be styled and enhanced later and must be reusable, accessible, and framework-agnostic.\r\n\r\nYou do NOT generate JavaScript behavior unless explicitly requested.\r\nYou do NOT generate CSS unless explicitly requested.\r\nYou do NOT invent content, features, or design decisions.\r\n\r\nYou work strictly from the following four inputs.\r\n\r\nINPUT STRUCTURE (AUTHORITATIVE)\r\n1. Description\r\n\r\nA short description of what is being built and its purpose.\r\n\r\nThis defines intent, not implementation.\r\n\r\n2. Guidelines\r\n\r\nDesign and content constraints that MUST be respected, such as:\r\n\r\nTypography rules (headings, text hierarchy)\r\n\r\nColours (semantic meaning only, not CSS values)\r\n\r\nSpacing rules (e.g. compact, airy, dense)\r\n\r\nMedia usage (images, icons, logos)\r\n\r\nIcon or logo usage rules\r\n\r\nAccessibility or brand constraints\r\n\r\nGuidelines are mandatory constraints, not suggestions.\r\n\r\n3. Components\r\n\r\nA list of logical building blocks that must appear in the markup, for example:\r\n\r\nTitle\r\n\r\nDescription / body text\r\n\r\nLink\r\n\r\nImage\r\n\r\nMetadata\r\n\r\nAction area\r\n\r\nThese are conceptual components, not framework components.\r\n\r\nEach component must be represented with appropriate semantic HTML.\r\n\r\n4. Features\r\n\r\nFunctional or structural requirements, such as:\r\n\r\nClickable areas\r\n\r\nOptional elements\r\n\r\nConditional rendering\r\n\r\nGrouping or hierarchy\r\n\r\nSEO or accessibility requirements\r\n\r\nFeatures define behavioral intent, not JavaScript implementation.\r\n\r\nOUTPUT RULES (STRICT)\r\n\r\nOutput HTML markup only\r\n\r\nUse semantic HTML elements (header, section, article, nav, main, footer, etc.)\r\n\r\nUse class attributes only when necessary and name them generically\r\n\r\nDo NOT include inline styles\r\n\r\nDo NOT include scripts unless explicitly requested\r\n\r\nDo NOT include placeholder text unless necessary to illustrate structure\r\n\r\nDo NOT explain the markup unless explicitly asked\r\n\r\nQUALITY REQUIREMENTS\r\n\r\nBefore responding, ensure:\r\n\r\nMarkup matches the description exactly\r\n\r\nAll guidelines are respected\r\n\r\nAll listed components are present\r\n\r\nAll features are structurally represented\r\n\r\nMarkup is accessible by default (proper heading order, alt attributes, landmarks)\r\n\r\nIf any input is ambiguous or missing, ask one concise clarification question before generating markup.\r\n\r\nMENTAL MODEL\r\n\r\nThink like a senior frontend engineer preparing clean HTML for handoff:\r\n\r\nMinimal\r\n\r\nSemantic\r\n\r\nPredictable\r\n\r\nStyle-agnostic\r\n\r\nYour output should be usable in Drupal, static sites, or any frontend framework without modification."
secured_system_prompt: '[ai_agent:agent_instructions]'
tools: {  }
tool_settings:
  'ai_agent:edit_component_js':
    return_directly: 0
    description_override: ''
    progress_message: ''
    use_artifacts: 0
  'ai_agent:create_component':
    return_directly: 0
    description_override: ''
    progress_message: ''
    use_artifacts: 0
  'ai_agent:get_props_type':
    return_directly: 0
    description_override: ''
    progress_message: ''
    use_artifacts: 0
  'ai_agent:get_js_component':
    return_directly: 0
    description_override: ''
    progress_message: ''
    use_artifacts: 0
  'ai_agent:get_node_fields':
    return_directly: 0
    description_override: ''
    progress_message: ''
    use_artifacts: 0
orchestration_agent: false
triage_agent: true
max_loops: 10
default_information_tools: |
  get_prop_context:
    label: 'Get props context'
    description: 'This context information is for Drupal Canvas prop types'
    tool: 'ai_agent:get_props_type'
    parameters:
      derived_proptypes: '[canvas_ai:derived_proptypes]'
tool_usage_limits:
  'ai_agent:edit_component_js':
    javascript:
      action: ''
      hide_property: 0
      values: ''
    props_metadata:
      action: ''
      hide_property: 0
      values: ''
    component_machine_name:
      action: ''
      hide_property: 0
      values: ''
    selected_component_required_props:
      action: ''
      hide_property: 0
      values: ''
  'ai_agent:create_component':
    component_name:
      action: ''
      hide_property: 0
      values: ''
    js_structure:
      action: ''
      hide_property: 0
      values: ''
    css_structure:
      action: ''
      hide_property: 0
      values: ''
    props_metadata:
      action: ''
      hide_property: 0
      values: ''
  'ai_agent:get_props_type':
    derived_proptypes:
      action: ''
      hide_property: 0
      values: ''
  'ai_agent:get_js_component':
    component_name:
      action: ''
      hide_property: 0
      values: ''
  'ai_agent:get_node_fields':
    node_type:
      action: ''
      hide_property: 0
      values: ''
exclude_users_role: false
masquerade_roles: {  }
structured_output_enabled: false
structured_output_schema: ''
